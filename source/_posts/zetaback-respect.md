title: Zetaback. Respect.
date: 2008-09-19 14:02:15
---

<p>With the release of <a href="http://opensolaris.org/os/community/zfs/">ZFS</a> on Solaris 10, I sat down and marveled at the opportunities for off-site backups.  I have already <a href="http://lethargy.org/~jesus/archives/114-ZFS.-Respect..html">written a bit about ZFS detailing why I think it kicks so much ass</a>.  With zfs send and zfs receive, one can manage block-level incremental backups and restores.  What's missing?  An elegant hack leveraging that to provide a simple and reliable backup infrastructure for a network of ZFS capable machines (including Mac OS X and FreeBSD now, BTW).</p>  <p>So, I sat down and wrote <a href="https://labs.omniti.com/trac/zetaback">Zetaback</a> -- which is currently 1032 lines of perl code (including complete documentations) plus a thin agent on remote machines that is 290 lines of perl code (including complete documentation).  I'd like to note that the only reason there is documentation, let alone complete documentation, is because of <a href="http://omniti.com/is/eric-sproul">Eric Sproul</a>.  This really demonstrates to me that "Keep It Simple Stupid" still works for important tasks.</p>  <p>Zetaback is a rather full features backup and restore system.  It can manage multiple hosts, multiple ZFS per host, both frequency and retention policies on full and incremental backups.  It can report policy violators (things that haven't been backed up within the policy).  It can manage the archiving of backups.  It provides both non-interactive and interactive restores.  It has an excellent command line syntax.  And most importantly, it has saved my ass more times than I can count.</p>  <p>I'm not usually big on awards... I find the single unexpected email from someone saying: "damn that was useful, thanks!" to be more gratifying most of the time.  However, Zetaback was one of the first projects <a href="http://omniti.com/">we</a> put up on <a href="http://labs.omniti.com/">labs</a>, so being a 3rd place winner in the <a href="http://www.opensolaris.org/os/project/awards/awards_land/Entries/">OpenSolaris Community Innovation Awards</a> is pretty exciting.</p>
